<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Javier Torres — Art & Installations</title>
<meta name="description" content="Portfolio de Javier Torres. Pintura, instalaciones, audio piezas. Arte contemporáneo desde Guadalajara, México." />

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#f7f7f7;
  --text:#111;
  --muted:#555;
  --line:#ddd;
  --accent:#000;
}

* { box-sizing:border-box; }
body {
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter, sans-serif;
  line-height:1.55;
}

header {
  position:fixed;
  top:0; left:0; right:0;
  padding:22px 40px;
  background:rgba(255,255,255,0.7);
  backdrop-filter:blur(8px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:1000;
  border-bottom:1px solid var(--line);
}
.brand {
  font-family:"Playfair Display", serif;
  font-size:20px;
  letter-spacing:1.5px;
}
nav a {
  margin-left:24px;
  font-size:14px;
  text-decoration:none;
  color:var(--muted);
  font-weight:500;
}

.hero {
  height:88vh;
  background-size:cover;
  background-position:center;
  position:relative;
  display:flex;
  align-items:end;
  padding:60px;
  margin-bottom:40px;
}
.hero h1 {
  font-family:"Playfair Display", serif;
  font-size:54px;
  max-width:800px;
  color:#fff;
  text-shadow:0 5px 24px rgba(0,0,0,0.5);
}

section {
  padding:80px 60px;
  max-width:1200px;
  margin:0 auto;
}
.section-title {
  font-family:"Playfair Display", serif;
  font-size:30px;
  margin-bottom:30px;
}

.statement {
  font-size:18px;
  max-width:900px;
  color:var(--muted);
}

.inst-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}
.inst-item {
  background-size:cover;
  background-position:center;
  border-radius:8px;
  height:300px;
  cursor:pointer;
  border:1px solid var(--line);
}

.works-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:22px;
}
.work-card {
  background:#fff;
  border-radius:8px;
  overflow:hidden;
  border:1px solid var(--line);
  cursor:pointer;
}
.work-card img {
  width:100%;
  height:280px;
  object-fit:cover;
}
.work-card .meta {
  padding:12px;
  font-size:14px;
  color:var(--muted);
}

.audio-list {
  display:flex;
  flex-direction:column;
  gap:22px;
}
audio {
  width:100%;
}

footer {
  text-align:center;
  padding:60px;
  color:var(--muted);
  font-size:14px;
}

.modal {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.95);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.modal img {
  max-width:90vw;
  max-height:90vh;
  border-radius:6px;
}
.close-modal {
  position:absolute;
  top:20px;
  right:30px;
  color:#fff;
  font-size:40px;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <div class="brand">JAVIER TORRES</div>
  <nav>
    <a href="#statement">Statement</a>
    <a href="#installations">Instalaciones</a>
    <a href="#works">Obras</a>
    <a href="#audios">Audios</a>
    <a href="#contact">Contacto</a>
  </nav>
</header>

<!-- HERO -->
<div id="hero" class="hero">
  <h1>Arte Contemporáneo — Pintura · Instalación · Audio</h1>
</div>

<main>

<section id="statement">
  <h2 class="section-title">Statement</h2>
  <div class="statement">
    Mi práctica se desarrolla entre la pintura, el gesto urbano y la memoria del espacio público.
    Trabajo con capas, interferencias, rastros y ruido visual para revelar cómo la ciudad transforma
    la superficie pictórica. Mis instalaciones exploran lo ritual, lo efímero y la relación entre cuerpo,
    materia y espacio expositivo.
  </div>
</section>

<section id="installations">
  <h2 class="section-title">Instalaciones</h2>
  <div id="instGrid" class="inst-grid"></div>
</section>

<section id="works">
  <h2 class="section-title">Obras</h2>
  <div id="worksGrid" class="works-grid"></div>
</section>

<section id="audios">
  <h2 class="section-title">Audio pieces</h2>
  <div id="audioList" class="audio-list"></div>
</section>

<section id="contact">
  <h2 class="section-title">Contacto</h2>
  <p>Sígueme en Instagram:  
    <a href="https://www.instagram.com/javier_torres_pinturas/" target="_blank">@javier_torres_pinturas</a>
  </p>
</section>

<footer>
  &copy; 2025 Javier Torres — Contemporary Art
</footer>

</main>

<div id="modal" class="modal">
  <div class="close-modal" onclick="closeModal()">&times;</div>
  <img id="modalImg">
</div>

<script>
const owner="JavT2Bill";
const repo="javier-torres-art";
const branch="main";

const exclusions = [
  "fragmento", "alice", "insta", 
  "la-aparicion", "aparicion", "nuevo-buda", "new-buda",
  "masterpiece", "un-nuevo-buda", "ny"
];

function excluded(name){
  const ln = name.toLowerCase();
  return exclusions.some(x => ln.includes(x));
}

async function listFolder(path){
  try{
    const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`);
    if(!res.ok) return [];
    return res.json();
  } catch(e){ return []; }
}

function openModal(src){
  const modal=document.getElementById("modal");
  const img=document.getElementById("modalImg");
  img.src=src;
  modal.style.display="flex";
}
function closeModal(){
  document.getElementById("modal").style.display="none";
}

async function buildInstallations(){
  const grid=document.getElementById("instGrid");
  const hero=document.getElementById("hero");
  const files=await listFolder("img/instalaciones");
  const imgs=files.filter(f=>/\.(jpg|jpeg|png|webp)$/i.test(f.name) && !excluded(f.name));

  // HERO: primera instalación válida
  if(imgs.length > 0){
    hero.style.backgroundImage = `url('${imgs[0].download_url}')`;
  }

  imgs.forEach(f=>{
    const div=document.createElement("div");
    div.className="inst-item";
    div.style.backgroundImage=`url('${f.download_url}')`;
    div.onclick=()=>openModal(f.download_url);
    grid.appendChild(div);
  });
}

async function buildWorks(){
  const grid=document.getElementById("worksGrid");
  const files=await listFolder("img/obras");
  const imgs=files.filter(f=>/\.(jpg|jpeg|png|webp)$/i.test(f.name) && !excluded(f.name));

  imgs.forEach(f=>{
    const card=document.createElement("div");
    card.className="work-card";
    card.onclick=()=>openModal(f.download_url);

    const img=document.createElement("img");
    img.src=f.download_url;

    const meta=document.createElement("div");
    meta.className="meta";
    meta.textContent=f.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ");

    card.appendChild(img);
    card.appendChild(meta);
    grid.appendChild(card);
  });
}

async function buildAudios(){
  const list=document.getElementById("audioList");
  const files=await listFolder("audios");
  const audios=files.filter(f=>/\.(mp3|wav|ogg)$/i.test(f.name));

  audios.forEach(f=>{
    const wrap=document.createElement("div");
    const title=document.createElement("div");
    title.style.fontSize="15px";
    title.style.color="var(--muted)";
    title.textContent=f.name.replace(/\.[^.]+$/,"");

    const player=document.createElement("audio");
    player.controls=true;
    player.src=f.download_url;

    wrap.appendChild(title);
    wrap.appendChild(player);
    list.appendChild(wrap);
  });
}

(async()=>{
  await buildInstallations();
  await buildWorks();
  await buildAudios();
})();
</script>

</body>
</html>
