<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>INTER - SIDE — Javier Torres</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <meta name="description" content="INTER - SIDE. Estas obras exploran la estética urbana y difuminan las fronteras entre espacio público y espacio expositivo."/>
  <style>
    :root{
      --bg:#fff;--text:#0b0a10;--muted:#7b7f85;--accent:#111111;
      --glass:rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Inter,system-ui,Arial;background:var(--bg);color:var(--text);margin:0;line-height:1.45}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:28px}
    header{position:fixed;top:0;left:0;right:0;z-index:40;display:flex;align-items:center;justify-content:space-between;padding:18px 32px;background:linear-gradient(180deg, rgba(255,255,255,0.62), rgba(255,255,255,0.12));backdrop-filter:blur(6px)}
    .brand{font-family:'Playfair Display',serif;font-weight:700;letter-spacing:2px;font-size:18px}
    nav{display:flex;gap:18px;align-items:center}
    nav a{font-weight:600;color:var(--muted);font-size:14px}
    .cta{padding:8px 14px;border-radius:6px;border:1px solid #111;background:transparent;font-weight:700}
    .hero{height:85vh;display:grid;align-items:end;position:relative;overflow:hidden}
    .hero .image{position:absolute;inset:0;background-size:cover;background-position:center;filter:contrast(0.98) saturate(0.94)}
    .hero .overlay{position:relative;z-index:10;padding:48px;max-width:1100px;margin:0 auto;color:#fff;text-shadow:0 6px 30px rgba(10,10,12,0.65)}
    .hero h1{font-family:'Playfair Display',serif;font-size:54px;line-height:0.95;margin:0}
    .hero p.lead{margin-top:12px;color:rgba(255,255,255,0.9);max-width:720px;font-size:18px}
    section{padding:72px 0}
    .section-title{font-family:'Playfair Display',serif;font-size:20px;margin-bottom:18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px}
    .card{background:#fff;border-radius:8px;overflow:hidden;position:relative;border:1px solid rgba(10,10,12,0.06);box-shadow:0 6px 18px rgba(10,10,12,0.04);cursor:pointer}
    .card .thumb{width:100%;height:360px;object-fit:cover;display:block}
    .card .meta{padding:12px 16px}
    .card .title{font-weight:700;margin-bottom:6px}
    .card .sub{color:var(--muted);font-size:14px}
    .installations{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}
    .install-big{height:520px;border-radius:10px;overflow:hidden;background-size:cover;background-position:center}
    .install-small{height:260px;border-radius:8px;overflow:hidden;background-size:cover;background-position:center}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.92);display:none;align-items:center;justify-content:center;padding:28px;z-index:9999}
    .modal .inner{max-width:1200px;width:100%;display:flex;gap:18px;align-items:flex-start}
    .modal img{max-width:100%;height:auto;border-radius:6px;box-shadow:0 20px 60px rgba(0,0,0,0.6)}
    .modal .info{color:#fff;width:32%;max-height:80vh;overflow:auto}
    .close{position:absolute;right:28px;top:28px;color:#fff;font-size:30px;background:none;border:none;cursor:pointer}
    footer{padding:48px 0;text-align:center;color:var(--muted);font-size:14px}
    @media(max-width:900px){
      .hero h1{font-size:36px}
      .card .thumb{height:260px}
      .modal .inner{flex-direction:column}
      .modal img{max-width:100%}
      .modal .info{width:100%}
      .installations{grid-template-columns:1fr}
    }
    .meta-list{color:var(--muted);font-size:14px;margin-top:8px}
    .bio-block{color:var(--muted);max-width:760px}
  </style>
</head>
<body>
  <header>
    <div class="brand">JAVIER <span style="letter-spacing:0.6px">TORRES</span></div>
    <nav>
      <a href="#about">About</a>
      <a href="#works">Works</a>
      <a href="#install">Installations</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero" aria-hidden="false">
    <div class="image" id="heroImage" style="background-image:url('img/instalaciones/instalacion-1.jpg')"></div>
    <div class="overlay">
      <h1>INTER — SIDE</h1>
      <p class="lead">Estas obras se nutren de la estética urbana y exploran el límite entre espacio público y espacio expositivo.</p>
    </div>
  </section>

  <main class="container">
    <!-- ABOUT -->
    <section id="about">
      <h2 class="section-title">About</h2>
      <div class="bio-block">
        <p>Estas obras nacen de la energía y textura de la calle para cuestionar cómo la pintura transforma y se transforma al pasar del muro al taller. Son paisajes que retienen la memoria de gestos, capas y materiales del espacio urbano.</p>
      </div>
    </section>

    <!-- WORKS -->
    <section id="works">
      <h2 class="section-title">Works</h2>
      <div class="grid" id="worksGrid"></div>
    </section>

    <!-- INSTALLATIONS -->
    <section id="install">
      <h2 class="section-title">Installations</h2>
      <div class="installations">
        <div class="install-big card" id="instBig" style="background-image:url('img/instalaciones/instalacion-8.jpg');background-size:cover;background-position:center"></div>
        <div style="display:flex;flex-direction:column;gap:20px">
          <div class="install-small card" style="background-image:url('img/instalaciones/instalacion-3.jpg');background-size:cover;background-position:center"></div>
          <div class="install-small card" style="background-image:url('img/instalaciones/instalacion-4.jpg');background-size:cover;background-position:center"></div>
        </div>
      </div>
      <div style="height:18px"></div>
      <div class="grid" style="grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px">
        <div class="card" style="background-image:url('img/instalaciones/instalacion-5.jpg');background-size:cover;background-position:center;height:180px" onclick="openModal('img/instalaciones/instalacion-5.jpg','Instalacion 5','instalacion-5.jpg')"></div>
        <div class="card" style="background-image:url('img/instalaciones/instalacion-6.jpg');background-size:cover;background-position:center;height:180px" onclick="openModal('img/instalaciones/instalacion-6.jpg','Instalacion 6','instalacion-6.jpg')"></div>
        <div class="card" style="background-image:url('img/instalaciones/instalacion-7.jpg');background-size:cover;background-position:center;height:180px" onclick="openModal('img/instalaciones/instalacion-7.jpg','Instalacion 7','instalacion-7.jpg')"></div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <h2 class="section-title">Contact</h2>
      <p style="color:var(--muted);margin-bottom:8px">Sígueme en redes</p>
      <div class="contact-links">
        <a href="https://www.instagram.com/javier_torres_pinturas/" target="_blank" rel="noopener">Instagram — @javier_torres_pinturas</a>
      </div>
    </section>

    <footer>
      &copy; 2025 Javier Torres — Inter Side · Studio
    </footer>
  </main>

  <!-- MODAL -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <button class="close" aria-label="Cerrar" onclick="closeModal()">&times;</button>
    <div class="inner">
      <img id="modalImg" src="" alt="">
      <div class="info">
        <h3 id="modalTitle" style="margin-top:0;color:#fff"></h3>
        <p id="modalAttrs" style="color:#ddd"></p>
      </div>
    </div>
  </div>

  <script>
    const owner='JavT2Bill', repo='javier-torres-art', branch='main';

    async function listFolder(path){
      try{const res=await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`);if(!res.ok)return[];return res.json();}catch(e){return[]}
    }
    function beautify(n){return n.replace(/[-_]+/g,' ').replace(/\\.[^.]+$/,'').replace(/^./,s=>s.toUpperCase());}

    async function loadMetadata(){
      const urls=[`https://raw.githubusercontent.com/${owner}/${repo}/${branch}/img/metadata.json`,`https://raw.githubusercontent.com/${owner}/${repo}/${branch}/metadata.json`];
      for(const u of urls){try{const r=await fetch(u);if(r.ok)return r.json()}catch(e){}}
      return{};
    }

    // exclude names
    function shouldExclude(name){
      const ln=name.toLowerCase();
      return ln.includes('insta')||ln.includes('fragmento-de-alice')||ln.includes('aparicion')||ln.includes('nuevo-buda')||ln.includes('masterpiece');
    }

    async function buildWorks(){
      const grid=document.getElementById('worksGrid');
      const files=await listFolder('img/obras');
      const images=(files||[]).filter(f=>/\\.(jpe?g|png|webp)$/i.test(f.name)&&!shouldExclude(f.name)).slice(0,24);
      if(!images.length){
        grid.innerHTML='<p style=\"color:var(--muted)\">No hay imágenes en <code>img/obras</code>.</p>';
        return;
      }
      const metadata=await loadMetadata();
      images.forEach(f=>{
        const div=document.createElement('div');div.className='card';
        const img=document.createElement('img');img.className='thumb';img.loading='lazy';img.decoding='async';img.src=f.download_url;img.alt=beautify(f.name);
        const meta=document.createElement('div');meta.className='meta';
        const title=beautify(f.name);
        const key=f.name;
        let attrs='';
        if(metadata&&metadata[key]){
          const m=metadata[key];
          attrs=[m.medidas,m.tecnica,m.año].filter(Boolean).join(' • ');
        }
        meta.innerHTML=`<div class=\"title\">${title}</div><div class=\"sub\">${attrs||'Click para ver detalles'}</div>`;
        div.appendChild(img);div.appendChild(meta);
        div.onclick=()=>openModal(f.download_url,title,f.name);
        grid.appendChild(div);
      });
    }

    let METADATA_CACHE=null;
    async function getMetaForFilename(fname){
      if(METADATA_CACHE===null)METADATA_CACHE=await loadMetadata()||{};
      return METADATA_CACHE[fname]||METADATA_CACHE[fname.replace(/\\.[^.]+$/,'')]||null;
    }

    async function openModal(src,title,fname){
      document.getElementById('modal').style.display='flex';
      document.getElementById('modal').setAttribute('aria-hidden','false');
      document.getElementById('modalImg').src=src;
      document.getElementById('modalTitle').innerText=title;
      document.body.style.overflow='hidden';
      const m=await getMetaForFilename(fname);
      if(m){document.getElementById('modalAttrs').innerText=[m.medidas,m.tecnica,m.año].filter(Boolean).join(' • ');}
      else{document.getElementById('modalAttrs').innerText='';}
    }

    function closeModal(){
      document.getElementById('modal').style.display='none';
      document.getElementById('modal').setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    (async()=>{await buildWorks();})();
  </script>
</body>
</html>
